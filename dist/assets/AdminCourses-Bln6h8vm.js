import{d as O,j as e,L as Q,y as q}from"./index-D44h95bS.js";import{r as m}from"./router-CVYtFGGO.js";import{u as J,c as X,d as Z,e as ee,f as te}from"./adminService-BI8HGu6B.js";import{X as V,s as se,Q as le,v as ae,B as re,R as H,V as ne,W as G,Y as D,Z as T,o as ie,p as oe,i as ce,_ as Y,$ as de,a0 as ue}from"./ui-C5TzJgQi.js";import"./react-Bq7xPAhO.js";const W="New2",me=1e6;async function xe(a){if(!a)throw new Error("No file provided");if(a.size>me)throw new Error("File too large. Max 1MB allowed.");const h=a.name?.split(".").pop()||"dat",u=`uploads/${`${crypto.randomUUID?crypto.randomUUID():Date.now()}-${Math.random().toString(16).slice(2)}.${h}`}`,{data:p,error:l}=await O.storage.from(W).upload(u,a,{cacheControl:"3600",upsert:!1});if(l){const x=(l.message||"").toLowerCase();throw x.includes("bucket")||x.includes("not found")?new Error('Upload bucket missing or blocked. Create/publicize bucket "New2" and allow authenticated uploads to uploads/*.'):x.includes("row-level security")?new Error('Upload blocked by RLS. Add storage policies for bucket "New2" to allow authenticated insert/delete and public select.'):new Error(l.message||"Upload failed")}const{data:i}=O.storage.from(W).getPublicUrl(p.path||u),f=i?.publicUrl;if(!f)throw new Error("Could not generate public URL");return{url:f,path:p.path||u,success:!0}}const $=({onUploadComplete:a,label:h="Upload Image"})=>{const[g,u]=m.useState(null),[p,l]=m.useState(null),[i,f]=m.useState(!1),x=b=>{const C=b.target.files[0];C&&(u(C),l(URL.createObjectURL(C)))},y=async()=>{if(!g){q.warning("Please select an image first");return}f(!0);try{const b=await xe(g);b?.url&&(q.success("Image uploaded successfully ðŸŽ‰"),a(b.url),l(null),u(null))}catch(b){q.error(b.message||"Upload failed âŒ")}f(!1)};return e.jsxs("div",{className:"border rounded-xl p-4 bg-gray-50",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h}),e.jsx("input",{type:"file",accept:"image/*",onChange:x,disabled:i,className:"w-full"}),p&&e.jsx("img",{src:p,className:"w-40 mt-4 rounded-lg shadow-md",alt:"preview"}),e.jsx("button",{className:"mt-4 px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400",onClick:y,disabled:i,children:i?"Uploading...":"Upload Image"}),e.jsx(Q,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!0,theme:"colored",toastClassName:"rounded-lg shadow-xl font-semibold text-sm",bodyClassName:"p-3",progressClassName:"bg-blue-500"})]})};function pe({course:a,onClose:h,onSuccess:g}){const[u,p]=m.useState("basic"),[l,i]=m.useState({course_id:"",title:"",slug:"",subtitle:"",overview:"",branch:"CSE",category:"",type:"online",level:"beginner",tags:[],price_cents:0,mrp_cents:0,discount_percentage:0,is_free:!1,description:"",detailed_description:{sections:[]},what_you_learn:[],requirements:[],target_audience:[],curriculum:{modules:[]},total_duration_hours:0,total_lessons:0,total_modules:0,instructor_name:"",instructor_title:"",instructor_bio:"",instructor_image_url:"",thumbnail_url:"",banner_url:"",promo_video_url:"",gallery_images:[],features:[],tools_covered:[],projects:[],max_enrollments:null,enrollment_start_date:"",enrollment_end_date:"",course_start_date:"",course_end_date:"",certificate_available:!0,certificate_template_url:"",status:"draft",is_featured:!1,is_trending:!1,is_new:!0,meta_title:"",meta_description:"",meta_keywords:[]}),[f,x]=m.useState(!1),[y,b]=m.useState({type:"",text:""}),[C,E]=m.useState([]);m.useEffect(()=>{a&&i({...a,price_cents:a.price_cents/100,mrp_cents:a.mrp_cents/100,tags:a.tags||[],what_you_learn:a.what_you_learn||[],requirements:a.requirements||[],target_audience:a.target_audience||[],detailed_description:a.detailed_description||{sections:[]},curriculum:a.curriculum||{modules:[]},features:a.features||[],tools_covered:a.tools_covered||[],projects:a.projects||[],gallery_images:a.gallery_images||[],meta_keywords:a.meta_keywords||[]})},[a]);function o(t){const{name:s,value:n,type:c,checked:d}=t.target;if(i(z=>({...z,[s]:c==="checkbox"?d:n})),s==="title"&&!a){const z=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");i(_=>({..._,slug:z}))}if(s==="price_cents"||s==="mrp_cents"){const z=parseFloat(s==="price_cents"?n:l.price_cents),_=parseFloat(s==="mrp_cents"?n:l.mrp_cents);if(_>0){const P=Math.round((_-z)/_*100);i(K=>({...K,discount_percentage:P}))}}}function v(t,s){s.trim()&&i(n=>({...n,[t]:[...n[t],s.trim()]}))}function j(t,s){i(n=>({...n,[t]:n[t].filter((c,d)=>d!==s)}))}function F(){i(t=>({...t,detailed_description:{sections:[...t.detailed_description.sections,{type:"paragraph",content:"",heading:""}]}}))}function S(t,s){i(n=>({...n,detailed_description:{sections:n.detailed_description.sections.map((c,d)=>d===t?{...c,...s}:c)}}))}function A(t){i(s=>({...s,detailed_description:{sections:s.detailed_description.sections.filter((n,c)=>c!==t)}}))}function L(){i(t=>({...t,curriculum:{modules:[...t.curriculum.modules,{title:"",description:"",duration_hours:0,lessons:[]}]},total_modules:t.total_modules+1}))}function M(t,s){i(n=>({...n,curriculum:{modules:n.curriculum.modules.map((c,d)=>d===t?{...c,...s}:c)}}))}function U(t){i(s=>({...s,curriculum:{modules:s.curriculum.modules.filter((n,c)=>c!==t)},total_modules:Math.max(0,s.total_modules-1)}))}function I(t){i(s=>({...s,curriculum:{modules:s.curriculum.modules.map((n,c)=>c===t?{...n,lessons:[...n.lessons,{title:"",type:"video",duration_minutes:0,content_url:"",is_free_preview:!1}]}:n)},total_lessons:s.total_lessons+1}))}function N(t,s,n){i(c=>({...c,curriculum:{modules:c.curriculum.modules.map((d,z)=>z===t?{...d,lessons:d.lessons.map((_,P)=>P===s?{..._,...n}:_)}:d)}}))}function r(t,s){i(n=>({...n,curriculum:{modules:n.curriculum.modules.map((c,d)=>d===t?{...c,lessons:c.lessons.filter((z,_)=>_!==s)}:c)},total_lessons:Math.max(0,n.total_lessons-1)}))}function w(t){E(s=>s.includes(t)?s.filter(n=>n!==t):[...s,t])}async function B(t){t.preventDefault(),x(!0),b({type:"",text:""});try{const s={...l,price_cents:Math.round(parseFloat(l.price_cents)*100),mrp_cents:Math.round(parseFloat(l.mrp_cents)*100),total_duration_hours:parseInt(l.total_duration_hours)||0,total_lessons:parseInt(l.total_lessons)||0,total_modules:parseInt(l.total_modules)||0,meta_title:l.meta_title||l.title,meta_description:l.meta_description||l.overview};s.enrollment_start_date||delete s.enrollment_start_date,s.enrollment_end_date||delete s.enrollment_end_date,s.course_start_date||delete s.course_start_date,s.course_end_date||delete s.course_end_date,a?(await J(a.id,s),b({type:"success",text:"Course updated successfully!"})):(await X(s),b({type:"success",text:"Course created successfully!"})),setTimeout(()=>{g&&g(),h()},1500)}catch(s){console.error("Error saving course:",s),b({type:"error",text:"Failed to save course: "+s.message})}finally{x(!1)}}const R=[{id:"basic",label:"Basic Info",icon:ae},{id:"content",label:"Content & Description",icon:re},{id:"curriculum",label:"Curriculum",icon:H},{id:"media",label:"Media",icon:ne},{id:"settings",label:"Settings",icon:G}];return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black/80",children:e.jsx("div",{className:"flex items-start justify-center min-h-screen p-4",children:e.jsxs("div",{className:"relative w-full max-w-7xl bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl my-8",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-zinc-800",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:a?"Edit Course":"Create New Course"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:l.status==="published"?"ðŸŸ¢ Published":"âšª Draft"})]}),e.jsx("button",{onClick:h,className:"p-2 text-zinc-400 hover:text-white hover:bg-zinc-800 rounded-lg transition-colors",children:e.jsx(V,{className:"w-6 h-6"})})]}),y.text&&e.jsxs("div",{className:`mx-6 mt-4 p-3 rounded-lg flex items-center gap-2 ${y.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:[y.type==="success"?e.jsx(se,{className:"w-5 h-5"}):e.jsx(le,{className:"w-5 h-5"}),y.text]}),e.jsx("div",{className:"flex border-b border-zinc-800 px-6 overflow-x-auto",children:R.map(t=>{const s=t.icon;return e.jsxs("button",{onClick:()=>p(t.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${u===t.id?"border-yellow-400 text-yellow-400":"border-transparent text-zinc-400 hover:text-white"}`,children:[e.jsx(s,{className:"w-4 h-4"}),t.label]},t.id)})}),e.jsxs("form",{onSubmit:B,children:[e.jsxs("div",{className:"px-6 py-6 max-h-[70vh] overflow-y-auto",children:[u==="basic"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Course Title *"}),e.jsx("input",{type:"text",name:"title",value:l.title,onChange:o,required:!0,placeholder:"Full Stack Web Development Masterclass",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:["Course ID * ",e.jsx("span",{className:"text-xs text-zinc-500",children:"(unique)"})]}),e.jsx("input",{type:"text",name:"course_id",value:l.course_id,onChange:o,disabled:!!a,required:!0,placeholder:"fullstack-2024",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:["Slug * ",e.jsx("span",{className:"text-xs text-zinc-500",children:"(URL-friendly)"})]}),e.jsx("input",{type:"text",name:"slug",value:l.slug,onChange:o,required:!0,placeholder:"fullstack-web-development",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Subtitle"}),e.jsx("input",{type:"text",name:"subtitle",value:l.subtitle,onChange:o,placeholder:"Learn HTML, CSS, JavaScript, React, Node.js & More",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Short Overview"}),e.jsx("textarea",{name:"overview",value:l.overview,onChange:o,rows:3,placeholder:"A brief description that appears on course cards...",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Branch *"}),e.jsxs("select",{name:"branch",value:l.branch,onChange:o,className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none",children:[e.jsx("option",{value:"CSE",children:"Computer Science & Engineering"}),e.jsx("option",{value:"IT",children:"Information Technology"}),e.jsx("option",{value:"ECE",children:"Electronics & Communication"}),e.jsx("option",{value:"EE",children:"Electrical Engineering"}),e.jsx("option",{value:"ME",children:"Mechanical Engineering"}),e.jsx("option",{value:"CE",children:"Civil Engineering"}),e.jsx("option",{value:"DS",children:"Data Science"}),e.jsx("option",{value:"AI",children:"Artificial Intelligence"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Course Type *"}),e.jsxs("select",{name:"type",value:l.type,onChange:o,className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none",children:[e.jsx("option",{value:"online",children:"Online Course"}),e.jsx("option",{value:"industrial_training",children:"Industrial Training"}),e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"bootcamp",children:"Bootcamp"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Category"}),e.jsx("input",{type:"text",name:"category",value:l.category,onChange:o,placeholder:"Web Development, Data Science, etc.",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Difficulty Level *"}),e.jsxs("select",{name:"level",value:l.level,onChange:o,className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none",children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"}),e.jsx("option",{value:"all_levels",children:"All Levels"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Price (â‚¹) *"}),e.jsx("input",{type:"number",name:"price_cents",value:l.price_cents,onChange:o,min:"0",step:"0.01",placeholder:"999",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"MRP (â‚¹)"}),e.jsx("input",{type:"number",name:"mrp_cents",value:l.mrp_cents,onChange:o,min:"0",step:"0.01",placeholder:"1999",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Discount %"}),e.jsx("input",{type:"number",name:"discount_percentage",value:l.discount_percentage,disabled:!0,className:"w-full px-4 py-2 bg-zinc-900 border border-zinc-700 text-zinc-500 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Duration (hours)"}),e.jsx("input",{type:"number",name:"total_duration_hours",value:l.total_duration_hours,onChange:o,min:"0",placeholder:"40",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",name:"is_free",checked:l.is_free,onChange:o,className:"w-4 h-4 text-yellow-400 rounded"}),e.jsx("label",{className:"text-sm text-zinc-300",children:"Free Course"})]})]}),e.jsxs("div",{className:"pt-6 border-t border-zinc-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Instructor Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Instructor Name"}),e.jsx("input",{type:"text",name:"instructor_name",value:l.instructor_name,onChange:o,placeholder:"John Doe",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Title"}),e.jsx("input",{type:"text",name:"instructor_title",value:l.instructor_title,onChange:o,placeholder:"Senior Software Engineer",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Bio"}),e.jsx("textarea",{name:"instructor_bio",value:l.instructor_bio,onChange:o,rows:3,placeholder:"Brief bio about the instructor...",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Instructor Image URL"}),e.jsx("input",{type:"url",name:"instructor_image_url",value:l.instructor_image_url,onChange:o,placeholder:"https://example.com/instructor.jpg",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]})]})]})]}),u==="content"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(k,{title:"What You'll Learn",items:l.what_you_learn,onAdd:t=>v("what_you_learn",t),onRemove:t=>j("what_you_learn",t),placeholder:"e.g., Build responsive web applications"}),e.jsx(k,{title:"Requirements / Prerequisites",items:l.requirements,onAdd:t=>v("requirements",t),onRemove:t=>j("requirements",t),placeholder:"e.g., Basic knowledge of HTML"}),e.jsx(k,{title:"Who This Course Is For",items:l.target_audience,onAdd:t=>v("target_audience",t),onRemove:t=>j("target_audience",t),placeholder:"e.g., Aspiring web developers"}),e.jsx(k,{title:"Course Features",items:l.features,onAdd:t=>v("features",t),onRemove:t=>j("features",t),placeholder:"e.g., Lifetime access, Certificate of completion"}),e.jsx(k,{title:"Tools & Technologies",items:l.tools_covered,onAdd:t=>v("tools_covered",t),onRemove:t=>j("tools_covered",t),placeholder:"e.g., React, Node.js, MongoDB"}),e.jsx(k,{title:"Projects Included",items:l.projects,onAdd:t=>v("projects",t),onRemove:t=>j("projects",t),placeholder:"e.g., E-commerce Website, Chat Application"}),e.jsxs("div",{className:"pt-6 border-t border-zinc-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Detailed Description"}),e.jsxs("button",{type:"button",onClick:F,className:"flex items-center gap-2 px-3 py-1.5 bg-yellow-400 text-black rounded-lg hover:bg-yellow-500 text-sm font-medium",children:[e.jsx(D,{className:"w-4 h-4"}),"Add Section"]})]}),e.jsx("div",{className:"space-y-4",children:l.detailed_description.sections.map((t,s)=>e.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("select",{value:t.type,onChange:n=>S(s,{type:n.target.value}),className:"px-3 py-1.5 bg-zinc-800 border border-zinc-700 text-white rounded-lg text-sm",children:[e.jsx("option",{value:"heading",children:"Heading"}),e.jsx("option",{value:"paragraph",children:"Paragraph"}),e.jsx("option",{value:"list",children:"List"}),e.jsx("option",{value:"quote",children:"Quote"})]}),e.jsx("button",{type:"button",onClick:()=>A(s),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded",children:e.jsx(T,{className:"w-4 h-4"})})]}),t.type==="heading"&&e.jsx("input",{type:"text",value:t.heading||"",onChange:n=>S(s,{heading:n.target.value}),placeholder:"Section Heading",className:"w-full px-4 py-2 bg-zinc-900 border border-zinc-700 text-white rounded-lg"}),e.jsx("textarea",{value:t.content,onChange:n=>S(s,{content:n.target.value}),rows:t.type==="heading"?2:4,placeholder:t.type==="list"?"Enter items separated by new lines":"Enter content...",className:"w-full px-4 py-2 bg-zinc-900 border border-zinc-700 text-white rounded-lg mt-2"})]},s))})]})]}),u==="curriculum"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Course Curriculum"}),e.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:[l.total_modules," modules Â· ",l.total_lessons," lessons"]})]}),e.jsxs("button",{type:"button",onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-yellow-400 text-black rounded-lg hover:bg-yellow-500 font-medium",children:[e.jsx(D,{className:"w-4 h-4"}),"Add Module"]})]}),e.jsx("div",{className:"space-y-4",children:l.curriculum.modules.map((t,s)=>e.jsx("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-lg",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("input",{type:"text",value:t.title,onChange:n=>M(s,{title:n.target.value}),placeholder:"Module Title",className:"w-full px-4 py-2 bg-zinc-900 border border-zinc-700 text-white rounded-lg font-medium"}),e.jsx("textarea",{value:t.description,onChange:n=>M(s,{description:n.target.value}),rows:2,placeholder:"Module description...",className:"w-full px-4 py-2 bg-zinc-900 border border-zinc-700 text-white rounded-lg text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>w(s),className:"p-2 text-zinc-400 hover:text-white hover:bg-zinc-700 rounded",children:C.includes(s)?e.jsx(ie,{className:"w-5 h-5"}):e.jsx(oe,{className:"w-5 h-5"})}),e.jsx("button",{type:"button",onClick:()=>U(s),className:"p-2 text-red-400 hover:bg-red-500/10 rounded",children:e.jsx(T,{className:"w-5 h-5"})})]})]}),C.includes(s)&&e.jsxs("div",{className:"mt-4 pl-4 border-l-2 border-zinc-700 space-y-3",children:[t.lessons.map((n,c)=>e.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-700 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("input",{type:"text",value:n.title,onChange:d=>N(s,c,{title:d.target.value}),placeholder:"Lesson title",className:"flex-1 px-3 py-1.5 bg-zinc-800 border border-zinc-700 text-white rounded text-sm"}),e.jsxs("select",{value:n.type,onChange:d=>N(s,c,{type:d.target.value}),className:"px-3 py-1.5 bg-zinc-800 border border-zinc-700 text-white rounded text-sm",children:[e.jsx("option",{value:"video",children:"Video"}),e.jsx("option",{value:"article",children:"Article"}),e.jsx("option",{value:"quiz",children:"Quiz"}),e.jsx("option",{value:"assignment",children:"Assignment"})]}),e.jsx("button",{type:"button",onClick:()=>r(s,c),className:"p-1.5 text-red-400 hover:bg-red-500/10 rounded",children:e.jsx(T,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"number",value:n.duration_minutes,onChange:d=>N(s,c,{duration_minutes:parseInt(d.target.value)}),placeholder:"Duration (min)",className:"px-3 py-1.5 bg-zinc-800 border border-zinc-700 text-white rounded text-sm"}),e.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 bg-zinc-800 border border-zinc-700 rounded text-sm text-zinc-300",children:[e.jsx("input",{type:"checkbox",checked:n.is_free_preview,onChange:d=>N(s,c,{is_free_preview:d.target.checked}),className:"w-4 h-4"}),"Free Preview"]})]})]},c)),e.jsx("button",{type:"button",onClick:()=>I(s),className:"w-full py-2 border border-dashed border-zinc-700 rounded-lg text-zinc-400 hover:text-white hover:border-zinc-600 text-sm",children:"+ Add Lesson"})]})]})},s))})]}),u==="media"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"ðŸ“¸ Thumbnail (Course Card Image) *"}),l.thumbnail_url?e.jsxs("div",{children:[e.jsx("img",{src:l.thumbnail_url,alt:"Thumbnail preview",className:"w-full h-32 object-cover rounded-lg mb-2"}),e.jsx("button",{type:"button",onClick:()=>i(t=>({...t,thumbnail_url:""})),className:"text-sm px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded",children:"Remove"})]}):e.jsx($,{label:"Upload Thumbnail",onUploadComplete:t=>i(s=>({...s,thumbnail_url:t}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"ðŸ–¼ï¸ Banner Image (Course Header)"}),l.banner_url?e.jsxs("div",{children:[e.jsx("img",{src:l.banner_url,alt:"Banner preview",className:"w-full h-32 object-cover rounded-lg mb-2"}),e.jsx("button",{type:"button",onClick:()=>i(t=>({...t,banner_url:""})),className:"text-sm px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded",children:"Remove"})]}):e.jsx($,{label:"Upload Banner",onUploadComplete:t=>i(s=>({...s,banner_url:t}))})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"ðŸŽ¬ Promo Video URL"}),e.jsx("input",{type:"url",name:"promo_video_url",value:l.promo_video_url,onChange:o,placeholder:"https://youtube.com/watch?v=... or https://vimeo.com/...",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"}),e.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:"Supports YouTube, Vimeo, or direct video URLs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"ðŸ–¼ï¸ Gallery Images"}),e.jsxs("div",{className:"space-y-3",children:[l.gallery_images&&l.gallery_images.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:l.gallery_images.map((t,s)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:t,alt:`Gallery ${s+1}`,className:"w-full h-24 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>j("gallery_images",s),className:"absolute top-1 right-1 bg-red-600 hover:bg-red-700 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition",children:e.jsx(V,{size:14})})]},s))}),e.jsx($,{label:"Add Gallery Image",onUploadComplete:t=>v("gallery_images",t)})]})]})]}),u==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Publication Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Status *"}),e.jsxs("select",{name:"status",value:l.status,onChange:o,className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-300",children:[e.jsx("input",{type:"checkbox",name:"is_featured",checked:l.is_featured,onChange:o,className:"w-4 h-4"}),"Featured Course"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-300",children:[e.jsx("input",{type:"checkbox",name:"is_trending",checked:l.is_trending,onChange:o,className:"w-4 h-4"}),"Trending"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-300",children:[e.jsx("input",{type:"checkbox",name:"is_new",checked:l.is_new,onChange:o,className:"w-4 h-4"}),"New Course"]})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-zinc-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Enrollment Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Max Enrollments"}),e.jsx("input",{type:"number",name:"max_enrollments",value:l.max_enrollments||"",onChange:o,placeholder:"Unlimited",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Enrollment Start Date"}),e.jsx("input",{type:"date",name:"enrollment_start_date",value:l.enrollment_start_date,onChange:o,className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Enrollment End Date"}),e.jsx("input",{type:"date",name:"enrollment_end_date",value:l.enrollment_end_date,onChange:o,className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 text-sm text-zinc-300",children:[e.jsx("input",{type:"checkbox",name:"certificate_available",checked:l.certificate_available,onChange:o,className:"w-4 h-4"}),"Certificate Available"]})})]})]}),e.jsxs("div",{className:"pt-6 border-t border-zinc-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"SEO Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Meta Title"}),e.jsx("input",{type:"text",name:"meta_title",value:l.meta_title,onChange:o,placeholder:"Auto-filled from course title",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Meta Description"}),e.jsx("textarea",{name:"meta_description",value:l.meta_description,onChange:o,rows:3,placeholder:"Auto-filled from overview",className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"})]}),e.jsx(k,{title:"Meta Keywords",items:l.meta_keywords,onAdd:t=>v("meta_keywords",t),onRemove:t=>j("meta_keywords",t),placeholder:"web development, react, javascript"}),e.jsx(k,{title:"Tags",items:l.tags,onAdd:t=>v("tags",t),onRemove:t=>j("tags",t),placeholder:"frontend, backend, fullstack"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-zinc-800 bg-zinc-900/50",children:[e.jsx("button",{type:"button",onClick:h,className:"px-6 py-2 text-zinc-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:f,className:"flex items-center gap-2 px-6 py-2 bg-yellow-400 text-black rounded-lg hover:bg-yellow-500 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"w-4 h-4"}),a?"Update Course":"Create Course"]})})]})]})]})})})}function k({title:a,items:h,onAdd:g,onRemove:u,placeholder:p}){const[l,i]=m.useState("");function f(){l.trim()&&(g(l),i(""))}return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:a}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:l,onChange:x=>i(x.target.value),onKeyPress:x=>x.key==="Enter"&&(x.preventDefault(),f()),placeholder:p,className:"flex-1 px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:border-yellow-400 focus:outline-none"}),e.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 bg-yellow-400 text-black rounded-lg hover:bg-yellow-500 font-medium",children:e.jsx(D,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((x,y)=>e.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-zinc-800 border border-zinc-700 text-zinc-300 rounded-full text-sm",children:[x,e.jsx("button",{type:"button",onClick:()=>u(y),className:"text-zinc-500 hover:text-red-400",children:"Ã—"})]},y))})]})}function he({course:a,onEdit:h,onDelete:g,onView:u}){const p=a.mrp_cents&&a.price_cents?Math.round((a.mrp_cents-a.price_cents)/a.mrp_cents*100):0;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow overflow-hidden",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200 overflow-hidden",children:[a.thumbnail_url?e.jsx("img",{src:a.thumbnail_url,alt:a.title,className:"w-full h-full object-cover hover:scale-105 transition-transform"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600",children:e.jsx("span",{className:"text-white text-sm",children:"No image"})}),p>0&&e.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[p,"% OFF"]}),e.jsx("div",{className:`absolute top-2 left-2 px-3 py-1 rounded-full text-xs font-semibold text-white ${a.status==="published"?"bg-green-500":a.status==="draft"?"bg-yellow-500":"bg-gray-500"}`,children:a.status})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 line-clamp-2 mb-2",children:a.title}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["ðŸ‘¨â€ðŸ« ",a.instructor_name||"No instructor"]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3 text-xs",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:a.branch||"N/A"}),e.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded",children:a.type==="online"?"Online":"Training"}),e.jsxs("span",{className:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded",children:[a.curriculum?.modules?.length||0," modules"]}),a.total_duration_hours&&e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:[a.total_duration_hours,"h"]})]}),a.overview&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:a.overview}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["â‚¹",(a.price_cents/100).toLocaleString("en-IN")]}),a.mrp_cents&&e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["â‚¹",(a.mrp_cents/100).toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex gap-2",children:[u&&e.jsxs("button",{onClick:()=>u(a),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-medium rounded transition-colors",children:[e.jsx(G,{className:"w-4 h-4"}),"View"]}),h&&e.jsxs("button",{onClick:()=>h(a),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium rounded transition-colors",children:[e.jsx(Y,{className:"w-4 h-4"}),"Edit"]}),g&&e.jsxs("button",{onClick:()=>g(a),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded transition-colors",children:[e.jsx(T,{className:"w-4 h-4"}),"Delete"]})]})]})]})}function ve(){const[a,h]=m.useState([]),[g,u]=m.useState(!0),[p,l]=m.useState(""),[i,f]=m.useState("all"),[x,y]=m.useState("all"),[b,C]=m.useState("all"),[E,o]=m.useState("grid"),[v,j]=m.useState(!1),[F,S]=m.useState(null);m.useEffect(()=>{A()},[]);async function A(){try{const r=await Z();h(r)}catch(r){console.error("Error loading courses:",r),alert("Failed to load courses")}finally{u(!1)}}async function L(r){if(confirm("Are you sure you want to delete this course?"))try{await ee(r),h(a.filter(w=>w.id!==r)),alert("Course deleted successfully")}catch(w){console.error("Error deleting course:",w),alert("Failed to delete course")}}async function M(r){try{const w=await te(r.id);S(w),j(!0)}catch(w){console.error("Error fetching course details:",w),alert("Failed to load course details")}}function U(){S(null),j(!0)}function I(){j(!1),S(null),A()}const N=a.filter(r=>{const w=(r.title||"").toLowerCase().includes(p.toLowerCase())||(r.instructor_name||"").toLowerCase().includes(p.toLowerCase()),B=i==="all"||r.branch===i,R=x==="all"||r.type===x,t=b==="all"||r.status===b;return w&&B&&R&&t});return g?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Course Management"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage all courses and training programs"})]}),e.jsxs("button",{onClick:U,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),"Add Course"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search courses...",value:p,onChange:r=>l(r.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:i,onChange:r=>f(r.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Branches"}),e.jsx("option",{value:"CSE",children:"Computer Science"}),e.jsx("option",{value:"IT",children:"Information Technology"}),e.jsx("option",{value:"DS",children:"Data Science"}),e.jsx("option",{value:"Civil",children:"Civil Engineering"}),e.jsx("option",{value:"Mechanical",children:"Mechanical Engineering"}),e.jsx("option",{value:"Electrical",children:"Electrical Engineering"}),e.jsx("option",{value:"ECE",children:"Electronics & Communication"})]}),e.jsxs("select",{value:x,onChange:r=>y(r.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"online",children:"Online Courses"}),e.jsx("option",{value:"industrial_training",children:"Industrial Training"})]}),e.jsxs("select",{value:b,onChange:r=>C(r.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"archived",children:"Archived"})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx("button",{onClick:()=>o("grid"),className:`p-2 rounded-lg transition-colors ${E==="grid"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:"Grid view",children:e.jsx(ue,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>o("list"),className:`p-2 rounded-lg transition-colors ${E==="list"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:"List view",children:e.jsx(H,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",N.length," of ",a.length," courses"]})]}),E==="grid"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:N.length>0?N.map(r=>e.jsx(he,{course:r,onEdit:M,onDelete:()=>{confirm("Are you sure you want to delete this course?")&&L(r.id)}},r.id)):e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No courses found"})})}),E==="list"&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modules"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.length>0?N.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[r.thumbnail_url&&e.jsx("img",{src:r.thumbnail_url,alt:r.title,className:"w-12 h-12 rounded-lg object-cover mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.title}),e.jsx("div",{className:"text-sm text-gray-500",children:r.instructor_name})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.branch}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.type==="online"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:r.type==="online"?"Online":"Training"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsx("span",{className:"inline-block bg-indigo-100 text-indigo-800 px-2 py-1 rounded text-xs font-medium",children:r.curriculum?.modules?.length||0})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"font-semibold",children:["â‚¹",(r.price_cents/100).toLocaleString("en-IN")]}),r.mrp_cents&&e.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["â‚¹",(r.mrp_cents/100).toLocaleString("en-IN")]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="published"?"bg-green-100 text-green-800":r.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>M(r),className:"text-blue-600 hover:text-blue-900 mr-4",children:e.jsx(Y,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{confirm("Are you sure?")&&L(r.id)},className:"text-red-600 hover:text-red-900",children:e.jsx(T,{className:"w-5 h-5"})})]})]},r.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:"No courses found"})})})]})})}),v&&e.jsx(pe,{course:F,onClose:I,onSuccess:A})]})}export{ve as default};
