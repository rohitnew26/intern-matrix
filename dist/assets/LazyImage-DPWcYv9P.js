import{j as e}from"./index-BxTy90uP.js";import{r as i}from"./router-Z28cWG60.js";function S({src:s,alt:d="",className:c="",imgClassName:j="",placeholder:l,placeholderNode:t,asBackground:m=!1,rootMargin:f="200px",style:k,children:u,width:y,height:p}){const n=i.useRef(null),[o,g]=i.useState(!1),[r,b]=i.useState(!1);i.useEffect(()=>{const v=n.current;if(!v)return;if(typeof IntersectionObserver>"u"){g(!0);return}const a=new IntersectionObserver(I=>{I.forEach(h=>{h.isIntersecting&&(g(!0),a.disconnect())})},{rootMargin:f});return a.observe(v),()=>a.disconnect()},[f]);const x={width:y?`${y}px`:void 0,height:p?`${p}px`:void 0,...k};return m?e.jsxs("div",{ref:n,className:c,style:{position:"relative",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:o?`url(${s})`:void 0,...x},children:[!r&&e.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:t||e.jsx("div",{style:{position:"absolute",inset:0,background:l||"linear-gradient(90deg,#f0f0f0 0%,#e8e8e8 50%,#f0f0f0 100%)",filter:"blur(6px)"}})}),o&&e.jsx("img",{src:s,alt:d,style:{display:"none"},onLoad:()=>b(!0),decoding:"async"}),e.jsx("div",{style:{position:"relative"},children:u})]}):e.jsxs("div",{ref:n,className:c,style:x,children:[!r&&e.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center"},children:t||e.jsx("div",{style:{position:"absolute",inset:0,background:l||"linear-gradient(90deg,#f0f0f0 0%,#e8e8e8 50%,#f0f0f0 100%)"}})}),o&&e.jsx("img",{src:s,alt:d,className:j,style:{width:"100%",height:"100%",objectFit:"cover",opacity:r?1:0,transition:"opacity 300ms ease",display:"block"},onLoad:()=>b(!0),decoding:"async",loading:"lazy"}),u]})}export{S as L};
